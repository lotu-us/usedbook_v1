<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:include="fragments/head :: head('메인') "></div>
    <link rel="stylesheet" th:href="@{/css/bookPost_list.css}">
</head>
<body>

<div th:replace="fragments/nav :: menu(${#strings.toUpperCase(pagination.category)})"></div>


<div class="container mt-4">
    <div class="row mb-4">
        <div class="fs-2 fw-bold col" th:text="${pagination.category.getName}">카테고리명</div>
        <div class="input-group col search">
            <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">조건</button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">제목</a></li>
                <li><a class="dropdown-item" href="#">작성자</a></li>
                <li><a class="dropdown-item" href="#">내용</a></li>
            </ul>
            <input type="text" class="form-control" aria-label="Text input with dropdown button">
        </div>
    </div>

    <table class="table table-striped table-hover table-bordered">
        <thead>
        <tr>
            <th scope="col" >번호</th>
            <th scope="col" id="bookname">제목</th>
            <th scope="col" id="writeremail">작성자</th>
            <th scope="col" id="createtime">날짜</th>
            <th scope="col" >조회</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="list : ${lists}">
            <th class="col1" scope="row" th:text="${list.id}">1</th>
            <td class="col2">
                <a href="#" th:href="@{/bookPost/detail/{bookPostId}(bookPostId=${list.id})}" th:text="${list.bookName}">Mark</a>
            </td>
            <td class="col3" th:text="${list.writerEmail}">Otto</td>
            <td class="col4" th:with="createTime = ${#strings.replace(list.createTime, '.0', '')}">
                <span th:text="${#strings.substring(createTime, 2, 19)}">test</span>
            </td>
            <td class="col5" th:text="1010">Otto</td>
        </tr>
        </tbody>
    </table>

    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center mt-5">
            <li class="page-item" th:classappend="${preview} < 1 ? 'disabled'">
                <a class="page-link" th:href="@{'/category/'+${categoryName}(page=${preview})}">Previous</a>
            </li>

            <th:block th:each="num : ${#numbers.sequence(pagination.listStartNum, pagination.listEndNum)}">
                <li class="page-item" th:classappend="${#strings.equals(num, param.page)} ? 'active'">
                    <a class="page-link"
                       th:href="@{'/category/'+${categoryName}(page=${num})}"
                       th:text="${num}">1</a>
                </li>
            </th:block>

            <li class="page-item" th:classappend="${next} > ${pagination.lastPageNum} ? 'disabled'">
                <a class="page-link" th:href="@{'/category/'+${categoryName}(page=${next})}">Next</a>
            </li>
        </ul>
    </nav>

</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script th:src="@{/js/bookPost_list.js}"></script>
</body>
</html>